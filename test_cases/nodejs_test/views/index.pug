extends layout

//-
	doctype html
	html
		head
			meta(charset='utf-8')
			title= title
		body
			h1= title
			p Welcome to #{title} .
			//script(type='text/javascript', src="../public/javascripts/graphs.js")
			//script.
				//alerttest()


block additionalScripts
	script(src='http://cytoscape.github.io/cytoscape.js/api/cytoscape.js-latest/cytoscape.min.js')
	script(src='http://malsup.github.com/jquery.form.js')
	script.
		$(function(){
			loadCSS = function(href) {
				console.log("Load file " + href);
				var cssLink = $("<link rel='stylesheet' type='text/css' href='"+href+"'>");
				$("head").append(cssLink);
			};

			loadJS = function(src) {
				console.log("Load file " + src);
				var jsLink = $("<script type='text/javascript' src='"+src+"'>");
				$("head").append(jsLink);
			};

			var host = window.location.href;
			if (host.charAt(host.length-1) == '#')
				host = host.substr(0, host.length-1);
			else if (host.charAt(host.length-1) != '/')
				host = host + "/";

			loadCSS(host + 'stylesheets/style.css');
			$("#mainLink").attr("href", host + $("#mainLink").attr("href"));
			$("#ttsLink").attr("href", host + $("#ttsLink").attr("href"));
			$("#apiLink").attr("href", host + $("#apiLink").attr("href"));
			$("#helpLink").attr("href", host + $("#helpLink").attr("href"));

			loadJS(host + 'javascripts/graphs.js');
		});
	script(src='../routes/routes_graphs.js')

